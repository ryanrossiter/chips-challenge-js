/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n//# sourceURL=webpack:///./node_modules/events/events.js?");

/***/ }),

/***/ "./src/Core.js":
/*!*********************!*\
  !*** ./src/Core.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Registry */ \"./src/Registry.js\");\n/* harmony import */ var _Defs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Defs */ \"./src/Defs.js\");\n/* harmony import */ var _Keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Keyboard */ \"./src/Keyboard.js\");\n/* harmony import */ var _Mouse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mouse */ \"./src/Mouse.js\");\n/* harmony import */ var _Screen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Screen */ \"./src/Screen.js\");\n/* harmony import */ var _Tiles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Tiles */ \"./src/Tiles.js\");\n/* harmony import */ var _mainloop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mainloop */ \"./src/mainloop.js\");\n/* harmony import */ var _mainloop__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_mainloop__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _util_SortedSet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util/SortedSet */ \"./src/util/SortedSet.js\");\n\n\n\n\n\n\n\n\n\nclass Core {\n  constructor() {\n    this.gameState = undefined;\n    this.keyboard = undefined;\n    this.mouse = undefined;\n    this.map = [[]];\n    this.mapWidth = 0;\n    this.mapHeight = 0;\n    this.screenTileWidth = 0;\n    this.screenTileHeight = 0;\n    this.alive = true;\n    this.chipsRemaining = 0;\n    this.playerX = 1;\n    this.playerY = 1;\n    this.sliding = false;\n    this.playerXOff = 0;\n    this.playerYOff = 0;\n    this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN;\n    this.hasFlippers = false;\n    this.hasFireBoots = false;\n    this.hasStickyBoots = false;\n    this.hasSkates = false;\n    this.hasKeyA = false;\n    this.hasKeyB = false;\n    this.hasKeyC = false;\n    this.hasKeyD = false;\n    this.monsters = [];\n  }\n\n  init(canvas) {\n    this.canvas = canvas;\n    this.screenTileWidth = Math.ceil(canvas.width / _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE);\n    this.screenTileHeight = Math.ceil(canvas.height / _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE);\n    this.screen = new _Screen__WEBPACK_IMPORTED_MODULE_4__[\"default\"](canvas);\n    this.screen.backgroundColor = \"#FF1493\";\n    _mainloop__WEBPACK_IMPORTED_MODULE_6___default.a.setMaxAllowedFPS(_Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].FRAMERATE);\n    _mainloop__WEBPACK_IMPORTED_MODULE_6___default.a.setUpdate(() => this.update());\n    _mainloop__WEBPACK_IMPORTED_MODULE_6___default.a.setDraw(() => this.draw());\n    this.keyboard = new _Keyboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.mouse = new _Mouse__WEBPACK_IMPORTED_MODULE_3__[\"default\"](canvas);\n  }\n\n  start(map) {\n    this.gameState = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PLAY_STATE;\n    this.map = _Registry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMap(map);\n    this.mapWidth = this.map[0].length;\n    this.mapHeight = this.map.length;\n    this.chipsRemaining = 0;\n    this.findTile(_Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.CHIP, () => {\n      this.chipsRemaining++;\n    });\n    this.findTile('*', (x, y) => {\n      this.playerX = x;\n      this.playerY = y;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    });\n    this.findTile('M', (x, y) => {\n      this.monsters.push({\n        x: x,\n        y: y,\n        xOff: 0,\n        yOff: 0,\n        dir: _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN\n      });\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    });\n    _mainloop__WEBPACK_IMPORTED_MODULE_6___default.a.start();\n    console.log(\"Started game.\");\n  }\n\n  findTile(tileId, callback) {\n    for (var y = 0; y < this.mapHeight; y++) {\n      for (var x = 0; x < this.mapWidth; x++) {\n        if (this.map[y][x] == tileId) callback(x, y);\n      }\n    }\n  }\n\n  canMove(x, y, dir) {\n    var tile = this.getTile(x, y);\n\n    if (_Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].LOCK_TILES.indexOf(tile) !== -1) {\n      if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.LOCK_A && this.hasKeyA || tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.LOCK_B && this.hasKeyB || tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.LOCK_C && this.hasKeyC || tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.LOCK_D && this.hasKeyD) {\n        this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n      } else return false;\n    } else if (_Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ICE_TILES.indexOf(tile) !== -1) {\n      if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_TOP_LEFT && (dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT || dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN) || tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_TOP_RIGHT && (dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT || dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN) || tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_BOTTOM_LEFT && (dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT || dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP) || tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_BOTTOM_RIGHT && (dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT || dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP)) {\n        return false;\n      }\n    }\n\n    return _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].SOLID_TILES.indexOf(tile) === -1;\n  }\n\n  move(x, y) {\n    this.playerX = x;\n    this.playerY = y;\n    var tile = this.getTile(x, y);\n\n    if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.CHIP) {\n      this.chipsRemaining--;\n\n      if (this.chipsRemaining == 0) {\n        var scope = this;\n        this.findTile(_Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.CHIP_GATE, function (x, y) {\n          scope.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n        });\n      }\n\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.WATER && !this.hasFlippers) {\n      this.alive = false; // DROWN\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FIRE && !this.hasFireBoots) {\n      this.alive = false; // BURN\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE && !this.hasFireBoots) {\n      this.sliding = true; // SLIDE\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLIPPERS) {\n      this.hasFlippers = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FIRE_BOOTS) {\n      this.hasFireBoots = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.SKATES) {\n      this.hasSkates = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.STICKY_BOOTS) {\n      this.hasStickyBoots = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.KEY_A) {\n      this.hasKeyA = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.KEY_B) {\n      this.hasKeyB = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.KEY_C) {\n      this.hasKeyC = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.KEY_D) {\n      this.hasKeyD = true;\n      this.setTile(x, y, _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR);\n    }\n  }\n\n  moveMonster(monster) {\n    console.log(this.monsters[0]);\n    console.log(this.monsters[1]); // A*\n\n    let hashPos = ([a, b]) => `${a}-${b}`;\n\n    let getNextPoints = ([a, b, s]) => [[a - 1, b, s + 1], [a + 1, b, s + 1], [a, b - 1, s + 1], [a, b + 1, s + 1]];\n\n    let dist = ([a0, a1], [b0, b1]) => Math.sqrt(Math.pow(a0 - b0, 2) + Math.pow(a1 - b1, 2));\n\n    let goal = [this.playerX, this.playerY];\n    let start = [monster.x, monster.y, 0];\n    let nextPoints = new _util_SortedSet__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n    nextPoints.insert(dist(start, goal), start);\n    let usedPoints = [hashPos(start)];\n    let cameFrom = {\n      [hashPos(start)]: start\n    };\n\n    while (nextPoints.size > 0) {\n      let [score, p] = nextPoints.pop();\n      let hp = hashPos(p);\n      if (hp === hashPos(goal)) break;\n\n      for (let np of getNextPoints(p)) {\n        if (_Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].MONSTER_TILES.indexOf(this.getTile(np[0], np[1])) === -1) continue;\n        let hnp = hashPos(np);\n\n        if (usedPoints.indexOf(hnp) === -1) {\n          usedPoints.push(hnp);\n          nextPoints.insert(np[2] + dist(np, goal), np);\n          cameFrom[hnp] = p;\n        } else if (np[2] < cameFrom[hnp][2]) {\n          cameFrom[hnp] = p;\n        }\n      }\n    }\n\n    if (usedPoints.indexOf(hashPos(goal)) !== -1) {\n      let last = goal;\n      let last1 = null;\n\n      while (hashPos(last) !== hashPos(start)) {\n        last1 = last;\n        last = cameFrom[hashPos(last)];\n      }\n\n      for (let m of this.monsters) {\n        if (m === monster) continue;\n        if (m.x === last1[0] && m.y === last1[1]) return;\n      }\n\n      let dx = Math.sign(monster.x - last1[0]);\n      let dy = Math.sign(monster.y - last1[1]);\n      monster.x = last1[0];\n      monster.y = last1[1];\n      monster.xOff = dx * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE;\n      monster.yOff = dy * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE;\n    }\n  }\n\n  update() {\n    for (let m of this.monsters) {\n      if (m.xOff > 0) m.xOff -= 2;else if (m.xOff < 0) m.xOff += 2;\n      if (m.yOff > 0) m.yOff -= 2;else if (m.yOff < 0) m.yOff += 2;\n    }\n\n    if (this.playerXOff > 0) this.playerXOff -= 2;else if (this.playerXOff < 0) this.playerXOff += 2;\n    if (this.playerYOff > 0) this.playerYOff -= 2;else if (this.playerYOff < 0) this.playerYOff += 2;\n\n    if (this.playerXOff == 0 && this.playerYOff == 0 && this.alive) {\n      var tile = this.getTile(this.playerX, this.playerY);\n      var moved = _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ICE_TILES.indexOf(tile) !== -1 && !this.hasSkates && this.sliding || _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].BOOST_TILES.indexOf(tile) !== -1 && !this.hasStickyBoots;\n\n      if (!moved) {\n        if (this.keyboard.isKeyDown(\"left\")) {\n          this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT;\n          moved = true;\n        } else if (this.keyboard.isKeyDown(\"right\")) {\n          this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT;\n          moved = true;\n        } else if (this.keyboard.isKeyDown(\"up\")) {\n          this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP;\n          moved = true;\n        } else if (this.keyboard.isKeyDown(\"down\")) {\n          this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN;\n          moved = true;\n        }\n      } else {\n        switch (tile) {\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_TOP_LEFT:\n            if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN;else if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_TOP_RIGHT:\n            if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN;else if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_BOTTOM_LEFT:\n            if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP;else if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.ICE_BUMPER_BOTTOM_RIGHT:\n            if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP;else if (this.dir == _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN) this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.BOOST_UP:\n            this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.BOOST_DOWN:\n            this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.BOOST_LEFT:\n            this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT;\n            break;\n\n          case _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.BOOST_RIGHT:\n            this.dir = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT;\n            break;\n        }\n      }\n\n      if (moved) {\n        moved = false;\n\n        switch (this.dir) {\n          case _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.LEFT:\n            if (this.canMove(this.playerX - 1, this.playerY, this.dir)) {\n              moved = true;\n              this.move(this.playerX - 1, this.playerY);\n              this.playerXOff = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE;\n            } else this.sliding = false;\n\n            break;\n\n          case _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.RIGHT:\n            if (this.canMove(this.playerX + 1, this.playerY, this.dir)) {\n              moved = true;\n              this.move(this.playerX + 1, this.playerY);\n              this.playerXOff = -_Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE;\n            } else this.sliding = false;\n\n            break;\n\n          case _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.UP:\n            if (this.canMove(this.playerX, this.playerY - 1, this.dir)) {\n              moved = true;\n              this.move(this.playerX, this.playerY - 1);\n              this.playerYOff = _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE;\n            } else this.sliding = false;\n\n            break;\n\n          case _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DIRS.DOWN:\n            if (this.canMove(this.playerX, this.playerY + 1, this.dir)) {\n              moved = true;\n              this.move(this.playerX, this.playerY + 1);\n              this.playerYOff = -_Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE;\n            } else this.sliding = false;\n\n            break;\n        }\n      }\n\n      if (moved) {\n        for (var i = 0; i < this.monsters.length; i++) {\n          this.moveMonster(this.monsters[i]);\n        }\n      }\n    }\n  }\n\n  draw() {\n    var startX = this.playerX - ~~(this.screenTileWidth / 2);\n    var startY = this.playerY - ~~(this.screenTileHeight / 2);\n\n    for (var y = startY; y < startY + this.screenTileHeight; y++) {\n      for (var x = startX; x < startX + this.screenTileWidth; x++) {\n        var tile = this.getTile(x, y);\n\n        if (_Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILE_ALIASES.hasOwnProperty(tile)) {\n          var spriteName = _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILE_ALIASES[tile];\n          this.screen.drawSprite(spriteName, (x - startX) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, (y - startY) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE);\n        } else console.error(\"Undefined tile ID: '\" + tile + \"'\");\n      }\n    }\n\n    var tile = this.getTile(this.playerX, this.playerY);\n\n    if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.WATER) {\n      if (!this.alive && this.playerXOff == 0 && this.playerYOff == 0) {\n        this.screen.drawSprite('SPLASH', ~~(this.screenTileWidth / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, ~~(this.screenTileHeight / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE);\n      } else {\n        this.screen.drawFromSpritesheet(\"PLAYER_SWIMMING\", 32, 32, this.dir, ~~(this.screenTileWidth / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE + this.playerXOff, ~~(this.screenTileHeight / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE + this.playerYOff);\n      }\n    } else if (tile == _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FIRE && !this.alive && this.playerXOff == 0 && this.playerYOff == 0) {\n      this.screen.drawSprite('BURNT', ~~(this.screenTileWidth / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, ~~(this.screenTileHeight / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE, _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE);\n    } else {\n      this.screen.drawFromSpritesheet(\"PLAYER\", 32, 32, this.dir, ~~(this.screenTileWidth / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE + this.playerXOff, ~~(this.screenTileHeight / 2) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE + this.playerYOff);\n    }\n\n    for (var i = 0; i < this.monsters.length; i++) {\n      var m = this.monsters[i];\n      this.screen.drawFromSpritesheet(\"MONSTER\", 32, 32, m.dir, (m.x - startX) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE + m.xOff, (m.y - startY) * _Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TILE_SIZE + m.yOff);\n    }\n\n    if (_Defs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEBUG) {\n      this.screen.drawText(\"fps: \" + _mainloop__WEBPACK_IMPORTED_MODULE_6___default.a.getFPS().toString().substring(0, 4), 10, 10, \"#FFFFFF\");\n    }\n\n    this.screen.drawText(\"CHIPS: \" + this.chipsRemaining, 10, 20, \"#FFFFFF\");\n    this.screen.show();\n  }\n\n  getTile(x, y) {\n    if (x < 0 || x >= this.mapWidth || y < 0 || y >= this.mapHeight) return _Tiles__WEBPACK_IMPORTED_MODULE_5__[\"default\"].TILES.FLOOR;\n    return this.map[y][x];\n  }\n\n  setTile(x, y, id) {\n    if (x < 0 || x >= this.mapWidth || y < 0 || y >= this.mapHeight) return;\n    this.map[y][x] = id;\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new Core());\n\n//# sourceURL=webpack:///./src/Core.js?");

/***/ }),

/***/ "./src/Defs.js":
/*!*********************!*\
  !*** ./src/Defs.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst Defs = {\n  DEBUG: true,\n  FRAMERATE: 60,\n  PLAY_STATE: 0,\n  MENU_STATE: 1,\n  TILE_SIZE: 32,\n  DIRS: {\n    LEFT: 0,\n    RIGHT: 1,\n    UP: 2,\n    DOWN: 3\n  },\n  KEY_CODES: {\n    37: \"left\",\n    // arrow keys\n    38: \"up\",\n    // ^\n    39: \"right\",\n    // ^\n    40: \"down\",\n    // ^\n    65: \"left\",\n    // A\n    83: \"down\",\n    // S\n    68: \"right\",\n    // D\n    87: \"up\" // W\n\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Defs);\n\n//# sourceURL=webpack:///./src/Defs.js?");

/***/ }),

/***/ "./src/Keyboard.js":
/*!*************************!*\
  !*** ./src/Keyboard.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Keyboard; });\n/* harmony import */ var _Defs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Defs */ \"./src/Defs.js\");\n\nclass Keyboard {\n  constructor() {\n    this.keys = {\n      \"left\": false,\n      \"right\": false,\n      \"up\": false,\n      \"down\": false\n    };\n    window.addEventListener(\"keydown\", evt => this.onKeyDown(evt));\n    window.addEventListener(\"keyup\", evt => this.onKeyUp(evt));\n  }\n\n  isKeyDown(c) {\n    return this.keys[c];\n  }\n\n  setKey(c, pressed) {\n    if (_Defs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].KEY_CODES.hasOwnProperty(c)) {\n      this.keys[_Defs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].KEY_CODES[c]] = pressed;\n    } else {//console.log(c);\n    }\n  }\n\n  onKeyDown(e) {\n    this.setKey(e.keyCode, true);\n  }\n\n  onKeyUp(e) {\n    this.setKey(e.keyCode, false);\n  }\n\n}\n\n//# sourceURL=webpack:///./src/Keyboard.js?");

/***/ }),

/***/ "./src/Mouse.js":
/*!**********************!*\
  !*** ./src/Mouse.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Mouse; });\nclass Mouse {\n  constructor(canvas) {\n    this.pos = {\n      x: 0,\n      y: 0\n    };\n    this.clicked = false;\n    this.clickPos = {\n      x: 0,\n      y: 0\n    };\n    canvas.addEventListener('mousemove', evt => {\n      var rect = canvas.getBoundingClientRect();\n      this.mouseMove(evt, rect);\n    }, false);\n    canvas.addEventListener('click', evt => {\n      var rect = canvas.getBoundingClientRect();\n      this.onClick(evt, rect);\n    }, false);\n  }\n\n  onClick(evt, rect) {\n    this.clicked = true;\n    this.clickPos.x = evt.clientX - rect.left;\n    this.clickPos.y = evt.clientY - rect.top;\n  }\n\n  clickHandled() {\n    clicked = false;\n  }\n\n  mouseMove(evt, rect) {\n    this.pos.x = evt.clientX - rect.left;\n    this.pos.y = evt.clientY - rect.top;\n  }\n\n}\n\n//# sourceURL=webpack:///./src/Mouse.js?");

/***/ }),

/***/ "./src/Registry.js":
/*!*************************!*\
  !*** ./src/Registry.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Registry {\n  constructor() {\n    this.loaded = false;\n    this.images = {};\n    this.maps = {};\n  }\n\n  loadResources() {\n    if (this.loaded === true) {\n      console.log(\"Resources are already loaded.\");\n      return;\n    }\n\n    var resources = document.getElementById(\"resources\").children;\n\n    for (var i = 0; i < resources.length; i++) {\n      this._registerResource(resources[i]);\n    }\n\n    var interval = setInterval(() => {\n      if (this._isLoaded()) {\n        this.loaded = true;\n        console.log(\"Finished loading resources.\");\n        clearInterval(interval);\n      }\n    }, 200);\n  }\n\n  _isLoaded() {\n    for (let map in this.maps) {\n      if (this.maps[map] === false) return false;\n    }\n\n    return true;\n  }\n\n  _registerResource(element) {\n    var idSplit = element.id.split(\":\");\n    var type = idSplit[0];\n    var name = idSplit[1];\n\n    if (type == \"image\") {\n      this.images[name] = element;\n      console.log(\"Registered image: \" + name);\n    } else if (type == \"map\") {\n      this.maps[name] = false;\n      var client = new XMLHttpRequest();\n      client.open('GET', element.href);\n\n      client.onreadystatechange = state => {\n        if (client.readyState == 4) {\n          var map = client.responseText.split('\\n');\n\n          for (var y = 0; y < map.length; y++) {\n            var row = map[y].replace(/ /g, '_').trim();\n            map[y] = [];\n\n            for (var x = 0; x < row.length; x++) {\n              map[y][x] = row[x];\n            }\n          }\n\n          this.maps[name] = map;\n          console.log(\"Registered map: \" + name);\n        }\n      };\n\n      client.send();\n    }\n  }\n\n  getImage(name) {\n    if (this.images.hasOwnProperty(name)) {\n      return this.images[name];\n    } else {\n      console.warn(\"No image with name: \" + name);\n      return null;\n    }\n  }\n\n  getMap(name) {\n    if (this.maps.hasOwnProperty(name)) {\n      return this.maps[name];\n    } else {\n      console.warn(\"No map with name: \" + name);\n      return [[0]];\n    }\n  }\n\n}\n\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = (new Registry());\n\n//# sourceURL=webpack:///./src/Registry.js?");

/***/ }),

/***/ "./src/Screen.js":
/*!***********************!*\
  !*** ./src/Screen.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Screen; });\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Registry */ \"./src/Registry.js\");\n\nclass Screen {\n  constructor(canvas) {\n    this.buffer = document.createElement(\"canvas\");\n    this.canvas = canvas;\n    this.buffer.width = this.canvas.width;\n    this.buffer.height = this.canvas.height;\n    this.bufferContext = this.buffer.getContext(\"2d\");\n    this.context = this.canvas.getContext(\"2d\");\n    this.bufferContext.font = \"8px 'Lucida Sans Typewriter'\";\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.backgroundColor = \"#FFFFFF\";\n    this.xOff = 0;\n    this.yOff = 0;\n  }\n\n  show() {\n    this.context.drawImage(this.buffer, 0, 0);\n    this.drawRect(this.backgroundColor, 0, 0, this.width, this.height);\n  }\n\n  drawRect(color, x, y, w, h) {\n    this.bufferContext.fillStyle = color;\n    this.bufferContext.fillRect(x + this.xOff, y + this.yOff, w, h);\n  }\n\n  drawText(text, x, y, color) {\n    if (color != undefined) {\n      this.bufferContext.fillStyle = color;\n    }\n\n    this.bufferContext.fillText(text, x, y);\n  }\n\n  drawSprite(spriteName, x, y, w, h) {\n    var img = _Registry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getImage(spriteName);\n\n    if (img == null) {\n      console.error(\"Couldn't find sprite: \" + spriteName);\n      return;\n    }\n\n    if (w === undefined || h === undefined) {\n      this.bufferContext.drawImage(img, x + this.xOff, y + this.yOff);\n    } else {\n      this.bufferContext.drawImage(img, 0, 0, img.width, img.height, x + this.xOff, y + this.yOff, w, h);\n    }\n  }\n\n  drawFromSpritesheet(sheet, spriteW, spriteH, index, x, y) {\n    var img = _Registry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getImage(sheet);\n    this.bufferContext.drawImage(img, spriteW * index, 0, spriteW, spriteH, x + this.xOff, y + this.yOff, spriteW, spriteH);\n  }\n\n  drawTile(tileset, tileID, tileX, tileY) {\n    var img = _Registry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getImage(tileset);\n    var left = tileID == Core.getTileID(tileX - 1, tileY);\n    var right = tileID == Core.getTileID(tileX + 1, tileY);\n    var up = tileID == Core.getTileID(tileX, tileY - 1);\n    var down = tileID == Core.getTileID(tileX, tileY + 1);\n    var left_up = tileID == Core.getTileID(tileX - 1, tileY);\n    var left_down = tileID == Core.getTileID(tileX - 1, tileY);\n    var right_up = tileID == Core.getTileID(tileX - 1, tileY);\n    var right_down = tileID == Core.getTileID(tileX - 1, tileY);\n  }\n\n  setOffset(xOffset, yOffset) {\n    this.xOff = xOffset;\n    this.yOff = yOffset;\n  }\n\n}\n\n//# sourceURL=webpack:///./src/Screen.js?");

/***/ }),

/***/ "./src/Tiles.js":
/*!**********************!*\
  !*** ./src/Tiles.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst TILES = {\n  BLOCK: '1',\n  FLOOR: '_',\n  INFO: '?',\n  WATER: 'W',\n  ICE: 'I',\n  ICE_BUMPER_TOP_LEFT: 'L',\n  ICE_BUMPER_TOP_RIGHT: 'R',\n  ICE_BUMPER_BOTTOM_LEFT: 'l',\n  ICE_BUMPER_BOTTOM_RIGHT: 'r',\n  FIRE: 'F',\n  CHIP: '#',\n  CHIP_GATE: '=',\n  GOAL: '@',\n  FLIPPERS: 'w',\n  FIRE_BOOTS: 'f',\n  SKATES: 'i',\n  STICKY_BOOTS: 'g',\n  BOOST_UP: '^',\n  BOOST_DOWN: 'v',\n  BOOST_LEFT: '<',\n  BOOST_RIGHT: '>',\n  LOCK_A: 'A',\n  LOCK_B: 'B',\n  LOCK_C: 'C',\n  LOCK_D: 'D',\n  KEY_A: 'a',\n  KEY_B: 'b',\n  KEY_C: 'c',\n  KEY_D: 'd'\n}; // The reverse object of TILES\n\nconst TILE_ALIASES = {};\n\nfor (let key in TILES) {\n  if (TILES.hasOwnProperty(key)) {\n    TILE_ALIASES[TILES[key]] = key;\n  }\n} // Tiles that the monster can cross over\n\n\nconst MONSTER_TILES = [TILES.FLOOR, TILES.INFO];\nconst SOLID_TILES = [TILES.BLOCK, TILES.CHIP_GATE];\nconst ICE_TILES = [TILES.ICE, TILES.ICE_BUMPER_BOTTOM_RIGHT, TILES.ICE_BUMPER_BOTTOM_LEFT, TILES.ICE_BUMPER_TOP_RIGHT, TILES.ICE_BUMPER_TOP_LEFT];\nconst BOOST_TILES = [TILES.BOOST_UP, TILES.BOOST_DOWN, TILES.BOOST_LEFT, TILES.BOOST_RIGHT];\nconst LOCK_TILES = [TILES.LOCK_A, TILES.LOCK_B, TILES.LOCK_C, TILES.LOCK_D];\nconst Tiles = {\n  TILES,\n  TILE_ALIASES,\n  MONSTER_TILES,\n  SOLID_TILES,\n  ICE_TILES,\n  BOOST_TILES,\n  LOCK_TILES\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tiles);\n\n//# sourceURL=webpack:///./src/Tiles.js?");

/***/ }),

/***/ "./src/gui/Component.js":
/*!******************************!*\
  !*** ./src/gui/Component.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Component; });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n\nclass Component extends events__WEBPACK_IMPORTED_MODULE_0___default.a {\n  constructor() {\n    super();\n    this.controllers = [];\n  }\n\n  addController(controller) {\n    this.controllers.push(controller);\n  }\n\n  init() {\n    this.element = this.build();\n    return this.element;\n  }\n\n  build() {\n    throw Error(\"Component.build must be overridden\");\n  }\n\n  destroy() {}\n\n  update() {}\n\n}\n\n//# sourceURL=webpack:///./src/gui/Component.js?");

/***/ }),

/***/ "./src/gui/GUI.js":
/*!************************!*\
  !*** ./src/gui/GUI.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GUI; });\n/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Component */ \"./src/gui/Component.js\");\n\nclass GUI extends _Component__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(parentElement) {\n    super();\n    this.parentElement = parentElement || document.getElementsByTagName('body')[0];\n    this.components = [];\n    this.parentElement.appendChild(this.init());\n  }\n\n  build() {\n    let element = document.createElement('div');\n    Object.apply(element.style, {\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    });\n    return element;\n  }\n\n  addComponent(component) {\n    if (!(component instanceof _Component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])) {\n      throw Error(\"addComponent param must inherit from Component\");\n    }\n\n    this.components.push(component);\n    let element = component.init();\n    component.parent = this;\n    this.element.appendChild(element);\n  }\n\n  removeComponent(component) {\n    if (this.components.indexOf(component) === -1) {\n      throw Error(\"Component does not exist in this GUI\");\n    }\n\n    this._removeComponent(component);\n  }\n\n  destroy() {\n    for (let component of this.components) {\n      this._removeComponent(component);\n    }\n\n    this.parentElement.removeChild(this.element);\n  }\n\n  _removeComponent(component) {\n    component.destroy();\n    this.element.removeChild(component);\n  }\n\n  update() {\n    for (let component of this.components) {\n      component.update();\n    }\n  }\n\n}\n\n//# sourceURL=webpack:///./src/gui/GUI.js?");

/***/ }),

/***/ "./src/gui/MenuGUIBuilder.js":
/*!***********************************!*\
  !*** ./src/gui/MenuGUIBuilder.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _GUI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GUI */ \"./src/gui/GUI.js\");\n/* harmony import */ var _components_LevelSelectComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/LevelSelectComponent */ \"./src/gui/components/LevelSelectComponent.js\");\n\n\nconst MenuGUIBuilder = {\n  build: (levelList, onLevelSelected) => {\n    let gui = new _GUI__WEBPACK_IMPORTED_MODULE_0__[\"default\"](document.getElementById('canvas-container'));\n    let lsComponent = new _components_LevelSelectComponent__WEBPACK_IMPORTED_MODULE_1__[\"default\"](levelList, onLevelSelected);\n    gui.addComponent(lsComponent);\n    return gui;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MenuGUIBuilder);\n\n//# sourceURL=webpack:///./src/gui/MenuGUIBuilder.js?");

/***/ }),

/***/ "./src/gui/components/LevelSelectComponent.js":
/*!****************************************************!*\
  !*** ./src/gui/components/LevelSelectComponent.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LevelSelectComponent; });\n/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Component */ \"./src/gui/Component.js\");\n\nclass LevelSelectComponent extends _Component__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(levelList, onLevelSelected) {\n    super();\n    this.levelList = levelList;\n    this.onLevelSelected = onLevelSelected;\n  }\n\n  build() {\n    let element = document.createElement('div');\n    Object.assign(element.style, {\n      position: 'absolute',\n      top: \"20%\",\n      left: \"20%\",\n      right: \"20%\",\n      bottom: \"20%\",\n      minWidth: \"400px\",\n      minHeight: \"230px\",\n      border: '2px solid rgba(20, 20, 20, 0.5)'\n    });\n\n    for (let level of this.levelList) {\n      let button = document.createElement('button');\n      button.innerHTML = level.label;\n\n      button.onclick = () => {\n        this.onLevelSelected(level.name);\n        this.parent.element.style.display = \"none\";\n      };\n\n      button.type = \"button\";\n      Object.assign(button.style, {\n        width: \"70px\",\n        height: \"60px\",\n        borderRadius: \"5px\",\n        margin: \"5px\"\n      });\n      element.appendChild(button);\n    }\n\n    return element;\n  }\n\n}\n\n//# sourceURL=webpack:///./src/gui/components/LevelSelectComponent.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Core */ \"./src/Core.js\");\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Registry */ \"./src/Registry.js\");\n/* harmony import */ var _gui_MenuGUIBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gui/MenuGUIBuilder */ \"./src/gui/MenuGUIBuilder.js\");\n\n\n\n\nwindow.onload = function () {\n  var canvas = document.getElementById(\"main-canvas\");\n  _Registry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loadResources();\n  _Core__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(canvas);\n  var interval = setInterval(function () {\n    if (_Registry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loaded) {\n      // iterate to add onclick handlers, then call Core.start(mapName)\n      // let lselect = document.getElementById(\"level-select\");\n      // for (let i = 0; i < lselect.children.length; i++) {\n      // \tlet e = lselect.children[i];\n      // \te.onclick = () => {\n      // \t\tCore.start(e.dataset.levelname);\n      // \t};\n      // }\n      clearInterval(interval);\n      _gui_MenuGUIBuilder__WEBPACK_IMPORTED_MODULE_2__[\"default\"].build([{\n        name: \"test\",\n        label: \"Test\"\n      }, {\n        name: \"icy\",\n        label: \"Icy\"\n      }, {\n        name: \"og1\",\n        label: \"Level 1\"\n      }, {\n        name: \"og3\",\n        label: \"Level 3\"\n      }], levelname => {\n        _Core__WEBPACK_IMPORTED_MODULE_0__[\"default\"].start(levelname);\n      });\n    }\n  }, 200);\n};\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/mainloop.js":
/*!*************************!*\
  !*** ./src/mainloop.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;// From https://github.com/IceCreamYou/MainLoop.js\n(function (root) {\n  var simulationTimestep = 1000 / 60,\n      frameDelta = 0,\n      lastFrameTimeMs = 0,\n      fps = 60,\n      lastFpsUpdate = 0,\n      framesThisSecond = 0,\n      numUpdateSteps = 0,\n      minFrameDelay = 0,\n      running = false,\n      started = false,\n      panic = false,\n      windowOrRoot = typeof window === 'object' ? window : root,\n      requestAnimationFrame = windowOrRoot.requestAnimationFrame || function () {\n    var lastTimestamp = Date.now(),\n        now,\n        timeout;\n    return function (callback) {\n      now = Date.now();\n      timeout = Math.max(0, simulationTimestep - (now - lastTimestamp));\n      lastTimestamp = now + timeout;\n      return setTimeout(function () {\n        callback(now + timeout);\n      }, timeout);\n    };\n  }(),\n      cancelAnimationFrame = windowOrRoot.cancelAnimationFrame || clearTimeout,\n      NOOP = function () {},\n      begin = NOOP,\n      update = NOOP,\n      draw = NOOP,\n      end = NOOP,\n      rafHandle;\n\n  root.MainLoop = {\n    getSimulationTimestep: function () {\n      return simulationTimestep;\n    },\n    setSimulationTimestep: function (timestep) {\n      simulationTimestep = timestep;\n      return this;\n    },\n    getFPS: function () {\n      return fps;\n    },\n    getMaxAllowedFPS: function () {\n      return 1000 / minFrameDelay;\n    },\n    setMaxAllowedFPS: function (fps) {\n      if (typeof fps === 'undefined') {\n        fps = Infinity;\n      }\n\n      if (fps === 0) {\n        this.stop();\n      } else {\n        minFrameDelay = 1000 / fps;\n      }\n\n      return this;\n    },\n    resetFrameDelta: function () {\n      var oldFrameDelta = frameDelta;\n      frameDelta = 0;\n      return oldFrameDelta;\n    },\n    setBegin: function (fun) {\n      begin = fun || begin;\n      return this;\n    },\n    setUpdate: function (fun) {\n      update = fun || update;\n      return this;\n    },\n    setDraw: function (fun) {\n      draw = fun || draw;\n      return this;\n    },\n    setEnd: function (fun) {\n      end = fun || end;\n      return this;\n    },\n    start: function () {\n      if (!started) {\n        started = true;\n        rafHandle = requestAnimationFrame(function (timestamp) {\n          draw(1);\n          running = true;\n          lastFrameTimeMs = timestamp;\n          lastFpsUpdate = timestamp;\n          framesThisSecond = 0;\n          rafHandle = requestAnimationFrame(animate);\n        });\n      }\n\n      return this;\n    },\n    stop: function () {\n      running = false;\n      started = false;\n      cancelAnimationFrame(rafHandle);\n      return this;\n    },\n    isRunning: function () {\n      return running;\n    }\n  };\n\n  function animate(timestamp) {\n    rafHandle = requestAnimationFrame(animate);\n\n    if (timestamp < lastFrameTimeMs + minFrameDelay) {\n      return;\n    }\n\n    frameDelta += timestamp - lastFrameTimeMs;\n    lastFrameTimeMs = timestamp;\n    begin(timestamp, frameDelta);\n\n    if (timestamp > lastFpsUpdate + 1000) {\n      fps = 0.25 * framesThisSecond + 0.75 * fps;\n      lastFpsUpdate = timestamp;\n      framesThisSecond = 0;\n    }\n\n    framesThisSecond++;\n    numUpdateSteps = 0;\n\n    while (frameDelta >= simulationTimestep) {\n      update(simulationTimestep);\n      frameDelta -= simulationTimestep;\n\n      if (++numUpdateSteps >= 240) {\n        panic = true;\n        break;\n      }\n    }\n\n    draw(frameDelta / simulationTimestep);\n    end(fps, panic);\n    panic = false;\n  }\n\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (root.MainLoop),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(this);\n\n//# sourceURL=webpack:///./src/mainloop.js?");

/***/ }),

/***/ "./src/util/SortedSet.js":
/*!*******************************!*\
  !*** ./src/util/SortedSet.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SortedSet; });\n// assumes list is already sorted in descending order\nconst sortedInsert = (arr, item) => {\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] < item) {\n      arr.splice(i, 0, item);\n      return;\n    }\n  }\n\n  arr.push(item);\n};\n\nclass SortedSet {\n  constructor() {\n    this.keys = [];\n    this.map = new Map();\n    this.size = 0;\n  }\n\n  insert(key, item) {\n    if (this.map.has(key)) {\n      this.map.get(key).splice(0, 0, item); // insert at 0\n    } else {\n      this.map.set(key, [item]);\n      sortedInsert(this.keys, key);\n    }\n\n    this.size++;\n  }\n\n  pop() {\n    let k = this.keys[this.keys.length - 1];\n    let a = this.map.get(k);\n    let v = a.pop();\n\n    if (a.length === 0) {\n      this.map.delete(k);\n      this.keys.pop();\n    }\n\n    this.size--;\n    return [k, v];\n  }\n\n}\n\n//# sourceURL=webpack:///./src/util/SortedSet.js?");

/***/ })

/******/ });